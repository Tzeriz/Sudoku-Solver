import unittest
import solve

def valid(grid):
    for row in range(len(grid)):
        for col in range(len(grid[row])):
            num = grid[row][col]
            if num == 0:
                return False
            # same row or col
            for i in range(9):
                if (i != row and grid[i][col] == num) or (i != col and grid[row][i] == num):
                    return False
            # check 3 * 3 grid
            for row_block in range(row // 3 * 3, row // 3 * 3 + 3):
                for col_block in range((col % 9) // 3 * 3, (col % 9) // 3 * 3 + 3):
                    if row_block != row and col_block != col and grid[row_block][col_block] == num:
                        return False
    return True

class Sudoku_Test(unittest.TestCase):
    def setUp(self) -> None:
        solve.problem = [[0 for _ in range(9)] for _ in range(9)]
        self.solution_str = ""
        self.answer_str = None

    def tearDown(self) -> None:
        # Problem List Setup
        for i in range(81):
            solve.problem[i // 9][i % 9] = 0 if self.problem_str[i] == "0" else int(self.problem_str[i])
        # solution_str set up
        # Check if problem can be and is being solved
        self.assertTrue(solve.solve())
        # Check if solution is valid
        if self.answer_str is None:
            self.assertTrue(valid(solve.problem))
        else:
            for row in range(9):
                for col in range(9):
                    self.solution_str += str(solve.problem[row][col])
            self.assertEquals(self.solution_str, self.answer_str)

    # Test case naming format: test_[difficulty level]_[case number]
    # Test case are found on: http://lipas.uwasa.fi/~timan/sudoku/

    # Solve empty grid
    def test_0(self):
        self.problem_str = "0" * 81

    def test_1_1(self):
        self.problem_str = "040000179002008054006005008080070910050090030019060040300400700570100200928000060"
        self.answer_str = "845632179732918654196745328683574912457291836219863547361429785574186293928357461"

    def test_1_2(self):
        self.problem_str = "802050701007082460010900000600001832500000009184300006000004020095610300308090607"
        self.answer_str = "832456791957182463416973258679541832523768149184329576761834925295617384348295617"

    def test_1_3(self):
        self.problem_str = "000000007720309001008705060502890000040501090000063705030906100200107053900000000"
        self.answer_str = "495618237726349581318725469572894316643571892189263745837956124264187953951432678"

    def test_2_1(self):
        self.problem_str = "206000049037009000100700006000580900705000804009062000900004001000300490410000208"
        self.answer_str = "256831749837649512194725386641587923725193864389462175978254631562318497413976258"

    def test_2_2(self):
        self.problem_str = "025007004001005020700020500509004800000000000007500609003070006040100700800200910"
        self.answer_str = "325867194681495327794321568539614872268739451417582639153978246942156783876243915"

    def test_2_3(self):
        self.problem_str = "001725000080010006250000130070000500000106000009000080045000029700090060000648300"
        self.answer_str = "361725948987413256254869137876934512523186794419257683645371829738592461192648375"

    def test_3_1(self):
        self.problem_str = "050200000300005080960078200000030020708000103040080000001640032070500001000009050"
        self.answer_str = "857261394312495786964378215195734628728956143643182579581647932479523861236819457"

    def test_3_2(self):
        self.problem_str = "800200046007900000100000500000500032408000701320007000006000009000003200280006003"
        self.answer_str = "893275146657941328142638597971584632468329751325167984536412879714893265289756413"

    def test_3_3(self):
        self.problem_str = "001725000080010000250000130070000500000186000009000080045000029000090060000648300"
        self.answer_str = "361725948987413256254869137876934512523186794419257683645371829738592461192648375"

    def test_4_1(self):
        self.problem_str = "050090000004800009000107280560000137000000000173000042021508000600003800000010060"
        self.answer_str = "857392416214856379936147285568429137492731658173685942321568794645973821789214563"

    def test_4_2(self):
        self.problem_str = "000400702064000050100007009210008003000050000800100075900700008080000920507002000"
        self.answer_str = "359481762764923851128567349215678493473259186896134275942716538681345927537892614"

    def test_4_3(self):
        self.problem_str = "000054306000003270000720001900070053000000000820010009300061000046900000701540000"
        self.answer_str = "172854396468193275539726481914672853657389124823415769385261947246937518791548632"

    def test_5_1(self):
        self.problem_str = "105000370000000200097300010000053102300801004201470000070008640008000000012000807"
        self.answer_str = "125649378834715296697382415746953182359821764281476953573298641468137529912564837"

    def test_5_2(self):
        self.problem_str = "001300702006200010020000004200601309000000000403809007100000080050006400904008500"
        self.answer_str = "841365792736294815529187634285671349697432158413859267172543986358926471964718523"

    def test_5_3(self):
        self.problem_str = "001725000080010000250000130070000500000106000009000080045000029000090060000648300"
        self.answer_str = "361725948987413256254869137876934512523186794419257683645371829738592461192648375"

    def test_E_1(self):
        self.problem_str = "008060900000203678706051004973048100620039050001700000580900306000000000040005721"
        self.answer_str = "238467915415293678796851234973548162624139857851726493587912346162374589349685721"

    def test_E_2(self):
        self.problem_str = "302065047050034182090170060206090308100000270089503400470300005000648091000200000"
        self.answer_str = "312865947657934182894172563246791358135486279789523416478319625523648791961257834"

    def test_E_3(self):
        self.problem_str = "071039000460075010830060702042000058600000970010500004000008469790342000500001300"
        self.answer_str = "271839546469275813835164792342917658658423971917586234123758469796342185584691327"

    def test_C_1(self):
        self.problem_str = "002004000008600000090000030800062000140030509070000000035008607000000042000901003"
        self.answer_str = "362794185518623794497185236859462371146837529273519468935248617781356942624971853"

    def test_C_2(self):
        self.problem_str = "000040009000700000001000600013690400000000008000528000067180000000000902954030010"
        self.answer_str = "672841359495763281381952674813697425526314798749528136267189543138475962954236817"

    def test_C_3(self):
        self.problem_str = "007001400060000000205000000001760058000030000090204000030050009004000600050080721"
        self.answer_str = "987521463463978512215346987341769258726835194598214376132657849874192635659483721"

    def test_D_1(self):
        self.problem_str = "670008010020060000000030000201000006480001700000000009004500000000000300003400802"
        self.answer_str = "675948213328165974149732568291357486486291735537684129814523697952876341763419852"

    def test_D_2(self):
        self.problem_str = "000000000100040070700500020017600500060000300000802600000900045009208000008030000"
        self.answer_str = "384729156125346978796581423417693582862415397953872614231967845649258731578134269"

    def test_D_3(self):
        self.problem_str = "903000024007094000001006030064008000000000040000900050000003700500000100080060000"
        self.answer_str = "953781624627394518841256937364518279295637841178942356419823765536479182782165493"

    def test_SD_1(self):
        self.problem_str = "090384000002070000000000071500003240030000000001005090000800000706520000000006400"
        self.answer_str = "197384562852671934463952871589713246634298715271465398315847629746529183928136457"

    def test_SD_2(self):
        self.problem_str = "040000000806000007500000100005190060004050000000300091000002436090000000000008020"
        self.answer_str = "149725683826431957573869142385197264914256378267384591758912436492673815631548729"

    def test_SD_3(self):
        self.problem_str = "027000800001000700000400000300000080050000009070028000090067000580000030000040056"
        self.answer_str = "927136845641985723835472691364759182258614379179328564493567218586291437712843956"

    def test_Easy_1(self):
        self.problem_str = "002000500010705020400090007049000730801030409036000210200080004080902060007000800"
        self.answer_str = "972863541618745923453291687549128736821637459736459218295386174184972365367514892"

    def test_Easy_2(self):
        self.problem_str = "050010040107000602000905000208030501040070020901080406000401000304000709020060010"
        self.answer_str = "852716943197843652463925187278634591645179328931582476786491235314258769529367814"

    def test_Easy_3(self):
        self.problem_str = "000602000400050001085010620038206710000000000019407350026040530900020007000809000"
        self.answer_str = "193672485462358971785914623538296714674135298219487356826741539941523867357869142"

    def test_Medium_1(self):
        self.problem_str = "000000000079050180800000007007306800450708096003502700700000005016030420000000000"
        self.answer_str = "345871269279653184861429537197346852452718396683592741738264915516937428924185673"

    def test_Medium_2(self):
        self.problem_str = "000000085000210009960080100500800016000000000890006007009070052300054000480000000"
        self.answer_str = "132649785758213649964785123543897216276531894891426537619378452327154968485962371"

    def test_Medium_3(self):
        self.problem_str = "700004001020060080001500200800090700050307020006050008008009100090010060500800003"
        self.answer_str = "785924631924163587631578249843692715159387426276451398468739152397215864512846973"

    def test_Hard_1(self):
        self.problem_str = "000003017015009008060000000100007000009000200000500004000000020500600340340200000"
        self.answer_str = "294863517715429638863751492152947863479386251638512974986134725521678349347295186"

    def test_Hard_2(self):
        self.problem_str = "380000000000400785009020300060090000800302009000040070001070500495006000000000092"
        self.answer_str = "384567921126439785759821346563798214847312659912645873231974568495286137678153492"

    def test_Hard_3(self):
        self.problem_str = "000700800006000031040002000024070000010030080000060290000800070860000500002006000"
        self.answer_str = "159743862276589431348612759624978315917235684583164297435821976861497523792356148"

    def test_GA_E_1(self):
        self.problem_str = "703108459900060800000000000010290367075003008000701000002070015086350020000010000"
        self.answer_str = "763128459924567831851934276418295367275643198639781542342876915186359724597412683"

    def test_GA_E_2(self):
        self.problem_str = "000059020090740000406001908017020500800005702000003041580600000934000280061002000"
        self.answer_str = "173859624298746153456231978317428569849165732625973841582694317934517286761382495"

    def test_GA_E_3(self):
        self.problem_str = "907501820035020010018006003000000209090652001102049500386400000750210600400000080"
        self.answer_str = "947531826635824917218796453563187249894652371172349568386475192759218634421963785"

    def test_GA_M_1(self):
        self.problem_str = "000060005624000010001000300008004037009100500007500090082470000090310000000029053"
        self.answer_str = "873961425624753918951248376518694237269137584437582691382475169795316842146829753"

    def test_GA_M_2(self):
        self.problem_str = "806000052090740000072658034000200063903160007000000000000500600410000325507000008"
        self.answer_str = "846913752395742816172658934754289163983165247621437589238594671419876325567321498"

    def test_GA_M_3(self):
        self.problem_str = "100843000008027031600000000004300100537900080010004305490030070300100000000405010"
        self.answer_str = "172843659958627431643519728864352197537961284219784365491238576385176942726495813"

    def test_GA_H_1(self):
        self.problem_str = "790000003400000060801004002005000000300100000040006209200030506030605421000000300"
        self.answer_str = "792568143453219867861374952625893714379142685148756239284931576937685421516427398"

    def test_GA_H_2(self):
        self.problem_str = "000815400105000030000004001019000080060400000208790000001000043800000297006002000"
        self.answer_str = "673815429145279836982634571419563782367428915258791364521987643834156297796342158"

    def test_GA_H_3(self):
        self.problem_str = "790000003000000060801004002005000000300100000040006209200030006030605421000000000"
        self.answer_str = "792568143453219867861374952625893714379142685148756239284931576937685421516427398"

    def test_AI_Escargot(self):
        self.problem_str = "100007090030020008009600500005300900010080002600004000300000010040000007007000300"
        self.answer_str = "162857493534129678789643521475312986913586742628794135356478219241935867897261354"


if __name__ == '__main__':
    unittest.main()
